<html>
<head>
    <meta charset="UTF-8" />
    <title>Graphix</title>
    <style>
        body {margin: 0;}
        canvas {width: 100%; height: 100%}
    </style>
</head>
<body>
    <script src="js/three.js"></script>
    <script>
        var scene = new THREE.Scene(); 
        scene.background = new THREE.Color(0x6fdbf5);
        
        var camera = new THREE.PerspectiveCamera(90,  window.innerWidth / window.innerHeight, 0.1, 1000);
        var renderer = new THREE.WebGLRenderer();
        var player = { 
            height:1.8, //camera y
            speed:0.2,  //movement speed
            turnSpeed:Math.PI*0.02 //turning speed
        };

        function init(){
            makeFloor();
            makeTestCube();
            camera.position.set(0, player.height, -5);
            camera.lookAt(new THREE.Vector3(0,player.height,0));

            renderer.setSize( window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            animate();
        }
        
        function makeFloor(){
            var floorGeometry =  new THREE.PlaneGeometry(150,150,10);
            var material =  new THREE.MeshBasicMaterial({
                            color:0xf3f5bb
            });
            var floor = new THREE.Mesh(floorGeometry, material);
            
            floor.rotation.x -= Math.PI / 2; // Rotate the floor
            scene.add(floor);
        }
        
        function makeTestCube(){
            var cubeGeometry =  new THREE.BoxGeometry(1,1,1);
            var material =  new THREE.MeshBasicMaterial({
                            color:0xffffff
            });
            var cube = new THREE.Mesh(cubeGeometry, material);
            
            scene.add(cube); 
        }

        function animate(){
            requestAnimationFrame(animate);

            // Keyboard movement inputs
            if(keyboard[87]){ // W
                camera.position.x -= Math.sin(camera.rotation.y) * player.speed;
                camera.position.z -= -Math.cos(camera.rotation.y) * player.speed;
            }
            if(keyboard[83]){ // S
                camera.position.x += Math.sin(camera.rotation.y) * player.speed;
                camera.position.z += -Math.cos(camera.rotation.y) * player.speed;
            }
            if(keyboard[65]){ // A
                camera.rotation.y -= player.turnSpeed;
            }
            if(keyboard[68]){ // D
                camera.rotation.y += player.turnSpeed;
            }

            renderer.render(scene, camera);
        }

        var keyboard = {};
        
        function keyDown(event){
            keyboard[event.keyCode] = true;
        }

        function keyUp(event){
            keyboard[event.keyCode] = false;
        }

        window.addEventListener('keydown', keyDown);
        window.addEventListener('keyup', keyUp);

        init();
    </script>
</body>
</html>